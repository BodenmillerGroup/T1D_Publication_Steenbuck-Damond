Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 8
Rules claiming more threads will be scaled down.
Select jobs to execute...

[Wed Dec 13 18:45:09 2023]
rule Registration_05_py:
    input: /scratch/nsteen/T1D_preprocessing/processing/05_ImageRegistration.py, /scratch/nsteen/processing/txt_output/04_Measurements.out, /scratch/nsteen/T1D_preprocessing/processing/helper_functions.py
    output: /scratch/nsteen/processing/txt_output/05_ImageRegistration.out
    jobid: 0
    reason: Forced execution
    threads: 8
    resources: mem_mb=64000, disk_mb=1000, tmpdir=/sctmp/nsteen, time=3:00:00

python /home/nsteen/scripts/T1D_analysis/.snakemake/scripts/tmpuzudj9xq.05_ImageRegistration.py
Activating singularity image /data/nsteen/singularity/sandbox
Matplotlib created a temporary config/cache directory at /sctmp/nsteen/matplotlib-3e7q0vrh because the default path (/home/nsteen/.config/matplotlib) is not a writable directory; it is highly recommended to set the MPLCONFIGDIR environment variable to a writable directory, in particular to speed up the import of Matplotlib and to better support multiprocessing.
Traceback (most recent call last):
  File "/home/nsteen/scripts/T1D_analysis/.snakemake/scripts/tmpuzudj9xq.05_ImageRegistration.py", line 108, in <module>
    input_images = sorted([x.name for x in Path.iterdir(seg_subdir) if x.name.endswith(".tiff")])
  File "/home/nsteen/scripts/T1D_analysis/.snakemake/scripts/tmpuzudj9xq.05_ImageRegistration.py", line 108, in <listcomp>
    input_images = sorted([x.name for x in Path.iterdir(seg_subdir) if x.name.endswith(".tiff")])
  File "/opt/conda/lib/python3.9/pathlib.py", line 1160, in iterdir
    for name in self._accessor.listdir(self):
FileNotFoundError: [Errno 2] No such file or directory: '/home/processing/seg_islets/Islet'
Not cleaning up /home/nsteen/scripts/T1D_analysis/.snakemake/scripts/tmpuzudj9xq.05_ImageRegistration.py
[Wed Dec 13 18:45:24 2023]
Error in rule Registration_05_py:
    jobid: 0
    output: /scratch/nsteen/processing/txt_output/05_ImageRegistration.out

RuleException:
CalledProcessError in line 140 of /home/nsteen/scripts/T1D_analysis/workflow/Snakefile:
Command ' singularity  exec --home /home/nsteen/scripts/T1D_analysis --bind /scratch/nsteen/processing:/home/processing,/scratch/nsteen/T1D_preprocessing:/scratch/nsteen/T1D_preprocessing,/data/nsteen:/data/nsteen --bind /home/nsteen/data/conda/envs/snakemake_cluster/lib/python3.10/site-packages:/mnt/snakemake /data/nsteen/singularity/sandbox bash -c 'set -euo pipefail;  python /home/nsteen/scripts/T1D_analysis/.snakemake/scripts/tmpuzudj9xq.05_ImageRegistration.py'' returned non-zero exit status 1.
  File "/home/nsteen/scripts/T1D_analysis/workflow/Snakefile", line 140, in __rule_Registration_05_py
  File "/home/nsteen/data/conda/envs/snakemake_cluster/lib/python3.10/concurrent/futures/thread.py", line 58, in run
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
