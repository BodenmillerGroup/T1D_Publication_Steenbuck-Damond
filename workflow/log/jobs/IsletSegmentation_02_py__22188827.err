Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 8
Rules claiming more threads will be scaled down.
Select jobs to execute...

[Thu Jul 10 11:36:51 2025]
rule IsletSegmentation_02_py:
    input: /scratch/nsteen/T1D_preprocessing/processing/02_IsletSegmentation.py, /scratch/nsteen/processing/txt_output/01_Preprocessing.out
    output: /scratch/nsteen/processing/txt_output/02_IsletSegmentation.out
    jobid: 0
    reason: Forced execution
    threads: 8
    resources: mem_mb=120000, disk_mb=1000, tmpdir=/sctmp/nsteen, time=24:00:00

python /home/nsteen/scripts/T1D_analysis/.snakemake/scripts/tmpvzgqs4rc.02_IsletSegmentation.py
Activating singularity image /home/nsteen/data/singularity/sandbox/
Matplotlib created a temporary config/cache directory at /sctmp/nsteen/matplotlib-z37zr8ka because the default path (/home/nsteen/.config/matplotlib) is not a writable directory; it is highly recommended to set the MPLCONFIGDIR environment variable to a writable directory, in particular to speed up the import of Matplotlib and to better support multiprocessing.
  0%|          | 0/7757 [00:00<?, ?it/s]  1%|          | 91/7757 [00:00<00:08, 902.41it/s]  2%|▏         | 185/7757 [00:00<00:08, 919.52it/s]  4%|▎         | 281/7757 [00:00<00:07, 937.34it/s]  5%|▍         | 378/7757 [00:00<00:07, 947.18it/s]  6%|▌         | 475/7757 [00:00<00:07, 953.47it/s]  7%|▋         | 573/7757 [00:00<00:07, 959.98it/s]  9%|▊         | 672/7757 [00:00<00:07, 967.50it/s] 10%|▉         | 769/7757 [00:00<00:07, 964.68it/s] 11%|█         | 868/7757 [00:00<00:07, 969.84it/s] 12%|█▏        | 965/7757 [00:01<00:07, 968.70it/s] 14%|█▎        | 1064/7757 [00:01<00:06, 973.90it/s] 15%|█▍        | 1163/7757 [00:01<00:06, 978.43it/s] 16%|█▋        | 1263/7757 [00:01<00:06, 984.27it/s] 18%|█▊        | 1363/7757 [00:01<00:06, 987.32it/s] 19%|█▉        | 1462/7757 [00:01<00:06, 987.01it/s] 20%|██        | 1562/7757 [00:01<00:06, 988.64it/s] 21%|██▏       | 1662/7757 [00:01<00:06, 989.49it/s] 23%|██▎       | 1762/7757 [00:01<00:06, 991.43it/s] 24%|██▍       | 1863/7757 [00:01<00:05, 996.14it/s] 25%|██▌       | 1963/7757 [00:02<00:05, 982.90it/s] 27%|██▋       | 2062/7757 [00:02<00:05, 981.18it/s] 28%|██▊       | 2161/7757 [00:02<00:05, 980.70it/s] 29%|██▉       | 2260/7757 [00:02<00:05, 976.17it/s] 30%|███       | 2361/7757 [00:02<00:05, 984.72it/s] 32%|███▏      | 2460/7757 [00:02<00:05, 981.70it/s] 33%|███▎      | 2559/7757 [00:02<00:05, 977.60it/s] 34%|███▍      | 2657/7757 [00:02<00:05, 975.40it/s] 36%|███▌      | 2755/7757 [00:02<00:05, 971.89it/s] 37%|███▋      | 2853/7757 [00:02<00:05, 972.77it/s] 38%|███▊      | 2952/7757 [00:03<00:04, 976.41it/s] 39%|███▉      | 3050/7757 [00:03<00:04, 976.86it/s] 41%|████      | 3148/7757 [00:03<00:04, 974.46it/s] 42%|████▏     | 3246/7757 [00:03<00:04, 968.68it/s] 43%|████▎     | 3343/7757 [00:03<00:04, 961.69it/s] 44%|████▍     | 3440/7757 [00:03<00:04, 961.81it/s] 46%|████▌     | 3537/7757 [00:03<00:04, 960.93it/s] 47%|████▋     | 3635/7757 [00:03<00:04, 963.91it/s] 48%|████▊     | 3732/7757 [00:03<00:04, 963.14it/s] 49%|████▉     | 3829/7757 [00:03<00:04, 959.94it/s] 51%|█████     | 3926/7757 [00:04<00:03, 961.21it/s] 52%|█████▏    | 4023/7757 [00:04<00:03, 963.50it/s] 53%|█████▎    | 4120/7757 [00:04<00:03, 964.35it/s] 54%|█████▍    | 4217/7757 [00:04<00:03, 965.37it/s] 56%|█████▌    | 4314/7757 [00:04<00:03, 958.44it/s] 57%|█████▋    | 4410/7757 [00:04<00:03, 954.01it/s] 58%|█████▊    | 4506/7757 [00:04<00:03, 945.47it/s] 59%|█████▉    | 4602/7757 [00:04<00:03, 947.37it/s] 61%|██████    | 4697/7757 [00:04<00:03, 948.08it/s] 62%|██████▏   | 4792/7757 [00:04<00:03, 946.31it/s] 63%|██████▎   | 4888/7757 [00:05<00:03, 947.89it/s] 64%|██████▍   | 4983/7757 [00:05<00:02, 944.55it/s] 65%|██████▌   | 5078/7757 [00:05<00:02, 943.04it/s] 67%|██████▋   | 5173/7757 [00:05<00:02, 941.89it/s] 68%|██████▊   | 5268/7757 [00:05<00:02, 941.46it/s] 69%|██████▉   | 5364/7757 [00:05<00:02, 946.40it/s] 70%|███████   | 5459/7757 [00:05<00:02, 936.57it/s] 72%|███████▏  | 5554/7757 [00:05<00:02, 937.89it/s] 73%|███████▎  | 5649/7757 [00:05<00:02, 938.77it/s] 74%|███████▍  | 5743/7757 [00:05<00:02, 937.44it/s] 75%|███████▌  | 5837/7757 [00:06<00:02, 934.68it/s] 76%|███████▋  | 5932/7757 [00:06<00:01, 938.80it/s] 78%|███████▊  | 6026/7757 [00:06<00:01, 937.39it/s] 79%|███████▉  | 6120/7757 [00:06<00:01, 930.33it/s] 80%|████████  | 6214/7757 [00:06<00:01, 918.00it/s] 81%|████████▏ | 6306/7757 [00:06<00:01, 918.31it/s] 82%|████████▏ | 6399/7757 [00:06<00:01, 920.24it/s] 84%|████████▎ | 6492/7757 [00:06<00:01, 919.20it/s] 85%|████████▍ | 6585/7757 [00:06<00:01, 920.39it/s] 86%|████████▌ | 6679/7757 [00:06<00:01, 923.42it/s] 87%|████████▋ | 6773/7757 [00:07<00:01, 926.78it/s] 89%|████████▊ | 6866/7757 [00:07<00:00, 922.43it/s] 90%|████████▉ | 6959/7757 [00:07<00:00, 922.73it/s] 91%|█████████ | 7053/7757 [00:07<00:00, 927.26it/s] 92%|█████████▏| 7148/7757 [00:07<00:00, 931.06it/s] 93%|█████████▎| 7242/7757 [00:07<00:00, 927.54it/s] 95%|█████████▍| 7335/7757 [00:07<00:00, 922.00it/s] 96%|█████████▌| 7428/7757 [00:07<00:00, 909.80it/s] 97%|█████████▋| 7521/7757 [00:07<00:00, 913.04it/s] 98%|█████████▊| 7613/7757 [00:07<00:00, 914.37it/s] 99%|█████████▉| 7706/7757 [00:08<00:00, 917.97it/s]100%|██████████| 7757/7757 [00:08<00:00, 951.76it/s]
  0%|          | 0/7757 [00:00<?, ?it/s]  1%|▏         | 97/7757 [00:00<00:07, 961.11it/s]  3%|▎         | 194/7757 [00:00<00:07, 962.99it/s]  4%|▍         | 291/7757 [00:00<00:07, 963.91it/s]  5%|▌         | 388/7757 [00:00<00:07, 961.28it/s]  6%|▋         | 485/7757 [00:00<00:07, 957.25it/s]  8%|▊         | 582/7757 [00:00<00:07, 959.49it/s]  9%|▊         | 678/7757 [00:00<00:07, 957.82it/s] 10%|▉         | 774/7757 [00:00<00:07, 954.65it/s] 11%|█         | 870/7757 [00:00<00:07, 955.69it/s] 12%|█▏        | 966/7757 [00:01<00:07, 955.03it/s] 14%|█▎        | 1062/7757 [00:01<00:07, 953.98it/s] 15%|█▍        | 1159/7757 [00:01<00:06, 956.87it/s] 16%|█▌        | 1256/7757 [00:01<00:06, 959.87it/s] 17%|█▋        | 1352/7757 [00:01<00:06, 955.73it/s] 19%|█▊        | 1448/7757 [00:01<00:06, 952.71it/s] 20%|█▉        | 1544/7757 [00:01<00:06, 952.93it/s] 21%|██        | 1640/7757 [00:01<00:06, 948.96it/s] 22%|██▏       | 1736/7757 [00:01<00:06, 950.25it/s] 24%|██▎       | 1833/7757 [00:01<00:06, 953.83it/s] 25%|██▍       | 1929/7757 [00:02<00:06, 937.96it/s] 26%|██▌       | 2023/7757 [00:02<00:06, 938.32it/s] 27%|██▋       | 2118/7757 [00:02<00:06, 939.02it/s] 29%|██▊       | 2212/7757 [00:02<00:05, 938.18it/s] 30%|██▉       | 2307/7757 [00:02<00:05, 940.94it/s] 31%|███       | 2402/7757 [00:02<00:05, 939.35it/s] 32%|███▏      | 2496/7757 [00:02<00:05, 931.73it/s] 33%|███▎      | 2590/7757 [00:02<00:05, 923.94it/s] 35%|███▍      | 2683/7757 [00:02<00:05, 925.07it/s] 36%|███▌      | 2777/7757 [00:02<00:05, 926.62it/s] 37%|███▋      | 2870/7757 [00:03<00:05, 927.46it/s] 38%|███▊      | 2964/7757 [00:03<00:05, 929.24it/s] 39%|███▉      | 3057/7757 [00:03<00:05, 924.57it/s] 41%|████      | 3150/7757 [00:03<00:04, 924.01it/s] 42%|████▏     | 3243/7757 [00:03<00:04, 918.38it/s] 43%|████▎     | 3335/7757 [00:03<00:04, 912.82it/s] 44%|████▍     | 3427/7757 [00:03<00:04, 910.35it/s] 45%|████▌     | 3519/7757 [00:03<00:04, 911.50it/s] 47%|████▋     | 3611/7757 [00:03<00:04, 909.67it/s] 48%|████▊     | 3703/7757 [00:03<00:04, 909.99it/s] 49%|████▉     | 3795/7757 [00:04<00:04, 910.02it/s] 50%|█████     | 3887/7757 [00:04<00:04, 911.46it/s] 51%|█████▏    | 3980/7757 [00:04<00:04, 915.71it/s] 52%|█████▏    | 4072/7757 [00:04<00:04, 906.16it/s] 54%|█████▎    | 4165/7757 [00:04<00:03, 910.32it/s] 55%|█████▍    | 4257/7757 [00:04<00:03, 910.08it/s] 56%|█████▌    | 4349/7757 [00:04<00:03, 908.88it/s] 57%|█████▋    | 4440/7757 [00:04<00:03, 899.25it/s] 58%|█████▊    | 4530/7757 [00:04<00:03, 897.86it/s] 60%|█████▉    | 4620/7757 [00:04<00:03, 895.06it/s] 61%|██████    | 4710/7757 [00:05<00:03, 893.65it/s] 62%|██████▏   | 4800/7757 [00:05<00:03, 892.34it/s] 63%|██████▎   | 4890/7757 [00:05<00:03, 893.86it/s] 64%|██████▍   | 4980/7757 [00:05<00:03, 895.42it/s] 65%|██████▌   | 5070/7757 [00:05<00:03, 893.48it/s] 67%|██████▋   | 5160/7757 [00:05<00:02, 888.54it/s] 68%|██████▊   | 5249/7757 [00:05<00:02, 886.13it/s] 69%|██████▉   | 5340/7757 [00:05<00:02, 890.90it/s] 70%|███████   | 5430/7757 [00:05<00:02, 886.42it/s] 71%|███████   | 5519/7757 [00:05<00:02, 881.73it/s] 72%|███████▏  | 5608/7757 [00:06<00:02, 879.22it/s] 73%|███████▎  | 5697/7757 [00:06<00:02, 881.41it/s] 75%|███████▍  | 5786/7757 [00:06<00:02, 881.35it/s] 76%|███████▌  | 5875/7757 [00:06<00:02, 883.29it/s] 77%|███████▋  | 5965/7757 [00:06<00:02, 886.67it/s] 78%|███████▊  | 6054/7757 [00:06<00:01, 885.60it/s] 79%|███████▉  | 6143/7757 [00:06<00:01, 875.12it/s] 80%|████████  | 6231/7757 [00:06<00:01, 866.61it/s] 81%|████████▏ | 6319/7757 [00:06<00:01, 869.14it/s] 83%|████████▎ | 6408/7757 [00:06<00:01, 874.01it/s] 84%|████████▎ | 6496/7757 [00:07<00:01, 870.97it/s] 85%|████████▍ | 6584/7757 [00:07<00:01, 872.26it/s] 86%|████████▌ | 6672/7757 [00:07<00:01, 873.75it/s] 87%|████████▋ | 6761/7757 [00:07<00:01, 876.10it/s] 88%|████████▊ | 6849/7757 [00:07<00:01, 874.43it/s] 89%|████████▉ | 6937/7757 [00:07<00:00, 871.03it/s] 91%|█████████ | 7026/7757 [00:07<00:00, 876.00it/s] 92%|█████████▏| 7115/7757 [00:07<00:00, 878.83it/s] 93%|█████████▎| 7204/7757 [00:07<00:00, 880.65it/s] 94%|█████████▍| 7293/7757 [00:08<00:00, 877.98it/s] 95%|█████████▌| 7381/7757 [00:08<00:00, 866.67it/s] 96%|█████████▋| 7468/7757 [00:08<00:00, 866.09it/s] 97%|█████████▋| 7556/7757 [00:08<00:00, 867.88it/s] 99%|█████████▊| 7643/7757 [00:08<00:00, 867.03it/s]100%|█████████▉| 7730/7757 [00:08<00:00, 864.58it/s]100%|██████████| 7757/7757 [00:08<00:00, 908.15it/s]
Traceback (most recent call last):
  File "/home/nsteen/scripts/T1D_analysis/.snakemake/scripts/tmpvzgqs4rc.02_IsletSegmentation.py", line 271, in <module>
    islet_model.load_state_dict(torch.load("/scratch/nsteen/T1D_preprocessing/islet_segmentation/islet_model.pt"))
  File "/opt/conda/lib/python3.9/site-packages/torch/serialization.py", line 771, in load
    with _open_file_like(f, 'rb') as opened_file:
  File "/opt/conda/lib/python3.9/site-packages/torch/serialization.py", line 270, in _open_file_like
    return _open_file(name_or_buffer, mode)
  File "/opt/conda/lib/python3.9/site-packages/torch/serialization.py", line 251, in __init__
    super(_open_file, self).__init__(open(name, mode))
FileNotFoundError: [Errno 2] No such file or directory: '/scratch/nsteen/T1D_preprocessing/islet_segmentation/islet_model.pt'
Not cleaning up /home/nsteen/scripts/T1D_analysis/.snakemake/scripts/tmpvzgqs4rc.02_IsletSegmentation.py
[Thu Jul 10 11:37:18 2025]
Error in rule IsletSegmentation_02_py:
    jobid: 0
    output: /scratch/nsteen/processing/txt_output/02_IsletSegmentation.out

RuleException:
CalledProcessError in line 255 of /home/nsteen/scripts/T1D_analysis/workflow/Snakefile:
Command ' singularity  exec --home /home/nsteen/scripts/T1D_analysis --bind /home/nsteen/scripts/T1D_analysis:/home/nsteen/scripts/T1D_analysis,/scratch/nsteen/processing:/home/processing,/scratch/nsteen/T1D_preprocessing:/scratch/nsteen/T1D_preprocessing,/data/nsteen:/data/nsteen --bind /home/nsteen/data/conda/envs/snakemake_cluster/lib/python3.10/site-packages:/mnt/snakemake /home/nsteen/data/singularity/sandbox/ bash -c 'set -euo pipefail;  python /home/nsteen/scripts/T1D_analysis/.snakemake/scripts/tmpvzgqs4rc.02_IsletSegmentation.py'' returned non-zero exit status 1.
  File "/home/nsteen/scripts/T1D_analysis/workflow/Snakefile", line 255, in __rule_IsletSegmentation_02_py
  File "/home/nsteen/data/conda/envs/snakemake_cluster/lib/python3.10/concurrent/futures/thread.py", line 58, in run
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
